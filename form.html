<!-- ì•„ì„ì›¹ ì½”ë“œë°•ìŠ¤ìš©: ì‹ ì²­ì„œ + ë²„íŠ¼ (í°íŠ¸ í¬ê²Œ & ë ˆì´ì•„ì›ƒ ì¬ë°°ì¹˜) -->
<link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
<style>
  .consult-form{
    --line:#e6eeea;--ink:#4f4f4f;--brand:#2f7a57;--focus:0 0 0 3px rgba(47,122,87,.18);
    font-family:"Pretendard Variable",Pretendard,-apple-system,BlinkMacSystemFont,"Segoe UI","Apple SD Gothic Neo","Noto Sans KR",Roboto,Helvetica,Arial,sans-serif;
    color:var(--ink);font-size:20px
  }
  .consult-form .grid{display:grid;grid-template-columns:1fr;gap:18px}
  @media(min-width:840px){.consult-form .grid{grid-template-columns:1fr 1fr}}
  .consult-form .field{display:flex;flex-direction:column;gap:10px;text-align:left}
  .consult-form .label{font-weight:800;font-size:20px;text-align:left}
  .consult-form .input,.consult-form .select,.consult-form .textarea{
    width:100%;padding:16px 16px;border:1px solid var(--line);border-radius:12px;
    outline:none;background:#fff;font-size:18px;
    -webkit-appearance:none;-moz-appearance:none;appearance:none
  }
  .consult-form .input:focus,.consult-form .select:focus,.consult-form .textarea:focus{border-color:#5377f6;border-width:1px}
  
  /* ë“œë¡­ë‹¤ìš´ select ìš”ì†Œ ê°•ì œ ìŠ¤íƒ€ì¼ */
  .consult-form .select{
    border-color:var(--line)!important;
    outline:none!important;
    box-shadow:none!important;
  }
  .consult-form .select:focus,.consult-form .select:active,.consult-form .select:hover{
    border-color:#5377f6!important;
    border-width:1px!important;
    outline:none!important;
    box-shadow:none!important;
  }

  /* ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ìŠ¤íƒ€ì¼ */
  .consult-form .select option{
    padding:12px 16px;background:#fff;color:var(--ink);font-size:18px;
    border:none;cursor:pointer;transition:background-color 0.2s ease
  }
  .consult-form .select option:hover,.consult-form .select option:focus{
    background:#f0f4ff;color:#5377f6
  }
  .consult-form .select option:checked{
    background:#f0f4ff;color:#5377f6;font-weight:600
  }
  .consult-form .select optgroup{
    font-weight:700;font-size:17px;color:#5377f6;padding:8px 0 4px 0;
    background:#f8f9fa;border-bottom:1px solid #5377f6;margin-top:8px
  }
  
  /* ë“œë¡­ë‹¤ìš´ ëª©ë¡ ë°•ìŠ¤ ì™¸ê³½ì„  - ë¸Œë¼ìš°ì €ë³„ ìŠ¤íƒ€ì¼ */
  .consult-form .select::-ms-expand{
    border:1px solid #5377f6;
  }
  .consult-form .select:focus::-ms-expand{
    border-color:#5377f6;
  }
  .consult-form .select optgroup:first-child{
    margin-top:0
  }
  .consult-form .select optgroup option{
    padding-left:24px;font-weight:400;color:var(--ink)
  }
  .consult-form .select optgroup option:hover{
    background:#f0f4ff;color:#5377f6
  }

  /* ë²„íŠ¼ ìƒ‰ìƒ: #5377f6 */
  .consult-form .btn{
    appearance:none;border:none;border-radius:999px;padding:18px 22px;
    font-weight:800;letter-spacing:.02em;font-size:20px;cursor:pointer;
    background:#5377f6!important;color:#fff!important;min-width:240px;transition:transform .02s ease
  }
  /* ì‚´ì§ ëˆŒë¦¬ëŠ” ëŠë‚Œë§Œ ìœ ì§€(í…Œë‘ë¦¬ íš¨ê³¼ ì œê±° ìœ ì§€) */
  .consult-form .btn:active{transform:translateY(1px);outline:none;box-shadow:none;background:#5377f6!important}
  .consult-form .btn:hover{filter:none;background:#5377f6!important}
  .consult-form .btn:focus{outline:none;box-shadow:none;background:#5377f6!important}

  /* "ëˆŒë¦¬ì§€ ì•Šì„ ë•Œ"(= ë¹„í™œì„±/disabled) íšŒìƒ‰ í†¤ìœ¼ë¡œ ì‚´ì§ ì–´ë‘¡ê²Œ */
  .consult-form .btn[disabled]{
    cursor:not-allowed;
    /* ë°°ê²½ê³¼ ê¸€ì ëª¨ë‘ ì‚´ì§ íšŒìƒ‰/ì–´ë‘¡ê²Œ */
    filter:grayscale(35%) brightness(0.92);
    background:#5377f6!important;
  }

  .consult-form .divider{grid-column:1/-1;height:1px;background:var(--line);margin:8px 0}
  .consult-form .agree{display:flex;align-items:flex-start;gap:12px;position:relative}
  .consult-form .agree label{font-size:18px;cursor:pointer}
  .consult-form .agree input[type="checkbox"]{width:20px;height:20px;cursor:pointer}
  .consult-form .hint{color:#6c7a71;font-size:16px;line-height:1.4}
  .consult-form .section-heading{
    grid-column:1/-1;
    font-size:24px;
    font-weight:800;
    margin:8px 0 4px 0
  }
  .consult-form .section-heading + .subtext{
    grid-column:1/-1;
    margin:-4px 0 8px 0;
    color:#4a5c53;
    font-size:17px
  }
  .consult-form .required-mark{color:#d64545;font-size:.9em;margin-left:4px}
  .consult-form .policy-card{
    background:#f8faf9;
    border:1px solid var(--line);
    border-radius:16px;
    padding:18px 20px;
    line-height:1.6
  }
  .consult-form .policy-card p{
    margin:6px 0 0 0;
  }
  .consult-form .policy-card p:first-child{
    margin-top:0;
  }
  .consult-form .policy-card ul{padding-left:20px;margin:8px 0 0 0}
  .consult-form .policy-card li{margin-bottom:4px}
  .consult-form .checkbox-row{
    display:flex;
    align-items:center;
    gap:12px;
    margin-top:12px
  }
  .consult-form .checkbox-row label{font-size:18px;font-weight:600}
  .consult-form .account-box{
    border:1px dashed #5377f6;
    background:#f6f8ff;
    border-radius:16px;
    padding:16px 18px;
    font-weight:600;
    color:#1f2a44;
    margin:12px 0
  }
  .consult-form .account-box span{display:block;font-weight:500;margin-top:6px;font-size:16px;color:#4a5c53}
  .consult-form .policy-card strong{color:#1f2a44}
  .consult-form .notice{
    grid-column:1/-1;
    font-size:17px;
    color:#4a5c53;
    margin:4px 0 8px 0;
    line-height:1.5
  }
  .consult-form .textarea{font-size:16px;line-height:1.6;min-height:100px}
  .reveal-on-scroll{
    opacity:0;
    transform:translate3d(0,28px,0);
    transition:opacity .7s cubic-bezier(.22,1,.36,1),transform .7s cubic-bezier(.22,1,.36,1);
    transition-delay:0s;
    will-change:opacity,transform
  }

  @media(max-width:640px){
    .consult-form{
      font-size:15px;
      padding:0 4px;
    }
    .consult-form .grid{
      gap:12px;
    }
    .consult-form .label{
      font-size:16px;
    }
    .consult-form .input,
    .consult-form .select,
    .consult-form .textarea{
      font-size:14px;
      padding:12px 12px;
    }
    .consult-form .hint{
      font-size:12px;
    }
    .consult-form .btn{
      width:100%;
      min-width:auto;
      font-size:16px;
      padding:14px 16px;
    }
    .consult-form .textarea{
      min-height:80px;
    }
    .consult-form .section-heading{
      font-size:18px;
      margin-top:4px;
    }
    .consult-form .notice{
      font-size:13px;
    }
    .consult-form .policy-card{
      padding:14px;
      font-size:13px;
    }
    .consult-form .policy-card ul{
      padding-left:16px;
    }
    .consult-form .checkbox-row label{
      font-size:15px;
    }
    .consult-form .account-box{
      font-size:14px;
      padding:14px;
    }
    .consult-form .account-box span{
      font-size:12px;
    }
  }
  .reveal-on-scroll.is-visible{
    opacity:1;
    transform:translate3d(0,0,0)
  }
  @media(prefers-reduced-motion:reduce){
    .reveal-on-scroll{
      opacity:1!important;
      transform:none!important;
      transition:none!important
    }
  }
  
  /* í•„ë“œ ë§í’ì„  ìŠ¤íƒ€ì¼ */
  .consult-form .field{position:relative}
  .consult-form .field-tooltip{
    position:absolute;bottom:100%;left:0;margin-bottom:8px;
    background:#333;color:#fff;padding:10px 14px;border-radius:8px;
    font-size:15px;white-space:nowrap;z-index:1000;
    opacity:0;visibility:hidden;transition:opacity 0.2s,visibility 0.2s;
    pointer-events:none;box-shadow:0 2px 8px rgba(0,0,0,0.15)
  }
  .consult-form .field-tooltip::after{
    content:'';position:absolute;top:100%;left:20px;
    border:6px solid transparent;border-top-color:#333
  }
  .consult-form .field-tooltip.show{
    opacity:1;visibility:visible
  }
  .consult-form .agree .field-tooltip{
    bottom:auto;top:100%;left:0;margin-top:8px
  }
  .consult-form .agree .field-tooltip::after{
    top:auto;bottom:100%;border-top-color:transparent;border-bottom-color:#333
  }
</style>

<div class="consult-form">
  <!-- action ì†ì„±ì„ ë°°í¬ëœ ë°±ì—”ë“œ ì£¼ì†Œë¡œ ë§ì¶°ì£¼ì„¸ìš”. ì•„ë˜ ê¸°ë³¸ê°’ì€ Render ì˜ˆì‹œì…ë‹ˆë‹¤. -->
  <form id="contactForm" action="https://ygsa-backend.onrender.com/api/consult" method="POST" novalidate>
    <input type="hidden" name="formType" value="moim" />
    <div class="grid">
      <div class="section-heading">ê¸°ë³¸ í”„ë¡œí•„</div>

      <div class="field">
        <label for="name" class="label">ì´ë¦„<span class="required-mark">*</span></label>
        <input id="name" name="name" class="input" type="text" placeholder="í™ê¸¸ë™" required autocomplete="name" />
        <div class="field-tooltip" data-field="name">ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="birth" class="label">ì¶œìƒë…„ë„<span class="required-mark">*</span></label>
        <input
          id="birth"
          name="birth"
          class="input"
          type="text"
          inputmode="numeric"
          maxlength="4"
          placeholder="1993"
          required
          autocomplete="bday-year"
        />
        <div class="field-tooltip" data-field="birth">ì¶œìƒë…„ë„ë¥¼ 4ìë¦¬ ìˆ«ìë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="gender" class="label">ì„±ë³„<span class="required-mark">*</span></label>
        <select id="gender" name="gender" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <option value="ë‚¨">ë‚¨ì</option>
          <option value="ì—¬">ì—¬ì</option>
          <option value="ê¸°íƒ€">ê¸°íƒ€</option>
        </select>
        <div class="field-tooltip" data-field="gender">ì„±ë³„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="phone" class="label">ì—°ë½ì²˜<span class="required-mark">*</span></label>
        <input id="phone" name="phone" class="input" type="tel" inputmode="tel" placeholder="010-1234-5678" required autocomplete="tel-national" />
        <div class="hint">ìˆ«ìë§Œ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ í•˜ì´í”ˆ(-)ì´ ì‚½ì…ë©ë‹ˆë‹¤.</div>
        <div class="field-tooltip" data-field="phone">ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="height" class="label">í‚¤<span class="required-mark">*</span></label>
        <input
          id="height"
          name="height"
          class="input"
          type="text"
          inputmode="numeric"
          maxlength="5"
          placeholder="170cm"
          required
          autocomplete="off"
        />
        <div class="field-tooltip" data-field="height">í‚¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. (ì˜ˆ: 170cm)</div>
      </div>

      <div class="field">
        <label for="edu" class="label">ìµœì¢…í•™ë ¥<span class="required-mark">*</span></label>
        <select id="edu" name="education" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <optgroup label="ê³ ë“±êµìœ¡ ì´ì „">
            <option>ê³ ë“±í•™êµ ì¬í•™</option>
            <option>ê³ ë“±í•™êµ ì¡¸ì—…(ê²€ì •ê³ ì‹œ í¬í•¨)</option>
          </optgroup>
          <optgroup label="ì „ë¬¸ëŒ€(2Â·3ë…„)">
            <option>ì „ë¬¸ëŒ€ ì¬í•™</option>
            <option>ì „ë¬¸í•™ì‚¬ ì¡¸ì—…</option>
          </optgroup>
          <optgroup label="ëŒ€í•™êµ(4ë…„)">
            <option>ëŒ€í•™êµ ì¬í•™(4ë…„)</option>
            <option>í•™ì‚¬ ì¡¸ì—…</option>
          </optgroup>
          <optgroup label="ëŒ€í•™ì›">
            <option>ì„ì‚¬ ê³¼ì • ì¬í•™</option>
            <option>ì„ì‚¬ ì¡¸ì—…</option>
            <option>ë°•ì‚¬ ê³¼ì • ì¬í•™</option>
            <option>ë°•ì‚¬ ì¡¸ì—…</option>
          </optgroup>
          <optgroup label="ê¸°íƒ€">
            <option>í•´ì™¸ ëŒ€í•™ ì¬í•™/ì¡¸ì—…</option>
            <option>ê¸°íƒ€</option>
          </optgroup>
        </select>
        <div class="field-tooltip" data-field="edu">ìµœì¢…í•™ë ¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="district" class="label">ê±°ì£¼ êµ¬<span class="required-mark">*</span></label>
        <input id="district" name="district" class="input" type="text" placeholder="ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬" required />
        <div class="field-tooltip" data-field="district">ê±°ì£¼í•˜ì‹œëŠ” êµ¬/êµ°ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="job" class="label">ì§ì—… (íšŒì‚¬ëª… + ì§ë¬´)<span class="required-mark">*</span></label>
        <input id="job" name="job" class="input" type="text" placeholder="ì˜ˆ: ì‚¼ì„±ì „ì ê°œë°œì / ë§¥í‚¨ì§€ ì „ëµì»¨ì„¤í„´íŠ¸" autocomplete="organization" required />
        <div class="field-tooltip" data-field="job">íšŒì‚¬ëª…ê³¼ ì§ë¬´ë¥¼ í•¨ê»˜ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="workStyle" class="label">ê·¼ë¬´ ë¶„ì•¼/í˜•íƒœ<span class="required-mark">*</span></label>
        <select id="workStyle" name="workStyle" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <option value="ëŒ€ê¸°ì—…">ëŒ€ê¸°ì—…</option>
          <option value="ì¤‘ê²¬ê¸°ì—…">ì¤‘ê²¬ê¸°ì—…</option>
          <option value="ìŠ¤íƒ€íŠ¸ì—…">ìŠ¤íƒ€íŠ¸ì—…</option>
          <option value="ê³µê³µ/ê³µê¸°ì—…">ê³µê³µ/ê³µê¸°ì—…</option>
          <option value="ì „ë¬¸ì§">ì „ë¬¸ì§</option>
          <option value="ìì˜ì—…">ìì˜ì—…</option>
          <option value="í”„ë¦¬ëœì„œ">í”„ë¦¬ëœì„œ</option>
          <option value="ê¸°íƒ€">ê¸°íƒ€</option>
        </select>
        <div class="field-tooltip" data-field="workStyle">ê·¼ë¬´ í˜•íƒœë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="divider" aria-hidden="true"></div>

      <div class="section-heading">ë¼ì´í”„ìŠ¤íƒ€ì¼ & ì°¸ì—¬ ëª©ì </div>

      <div class="field">
        <label for="relationship" class="label">í˜„ì¬ ì—°ì•  ìƒíƒœ<span class="required-mark">*</span></label>
        <select id="relationship" name="relationshipStatus" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <option value="ì†”ë¡œ">ì†”ë¡œ</option>
          <option value="ì¸">ì¸</option>
          <option value="ì—°ì•  ì¤‘">ì—°ì•  ì¤‘</option>
        </select>
        <div class="field-tooltip" data-field="relationship">í˜„ì¬ ì—°ì•  ìƒíƒœë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="purpose" class="label">ì°¸ì—¬ ëª©ì <span class="required-mark">*</span></label>
        <select id="purpose" name="participationGoal" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <option value="ì—°ì•  ìƒëŒ€">ì—°ì•  ìƒëŒ€</option>
          <option value="ì´ì„±ì¹œêµ¬">ì´ì„±ì¹œêµ¬</option>
          <option value="ì»¤ë¦¬ì–´ ë„¤íŠ¸ì›Œí‚¹">ì»¤ë¦¬ì–´ ë„¤íŠ¸ì›Œí‚¹</option>
          <option value="ì•„ì§ ëª¨ë¥´ê² ìŒ">ì•„ì§ ëª¨ë¥´ê² ìŒ</option>
        </select>
        <div class="field-tooltip" data-field="purpose">ì°¸ì—¬ ëª©ì ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="socialEnergy" class="label">ìƒˆë¡œìš´ ì‚¬ëŒ ë§Œë‚˜ëŠ” ê²ƒ<span class="required-mark">*</span></label>
        <select id="socialEnergy" name="socialEnergy" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <option value="ì—ë„ˆì§€">ì—ë„ˆì§€ ë°›ì•„ìš”</option>
          <option value="ë³´í†µ">ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ìš”</option>
          <option value="ì§€ì¹¨">ì¡°ê¸ˆ ì§€ì¹˜ëŠ” í¸ì´ì—ìš”</option>
        </select>
        <div class="field-tooltip" data-field="socialEnergy">ì„±í–¥ì— ë§ëŠ” ì˜µì…˜ì„ ê³¨ë¼ì£¼ì„¸ìš”.</div>
      </div>

      <div class="field">
        <label for="weekendStyle" class="label">ì£¼ë§ì—” ì§‘ vs ë°–ì—ì„œ ì•½ì†<span class="required-mark">*</span></label>
        <select id="weekendStyle" name="weekendPreference" class="select" required>
          <option value="" selected disabled>(ì„ íƒ)</option>
          <option value="ì§‘ìˆœì´/ì§‘ëŒì´">ì£¼ë§ì—” ì§‘ì´ ì¢‹ì•„ìš”</option>
          <option value="ë°˜ë°˜">ì§‘/ë°– ë°˜ë°˜ ì¦ê²¨ìš”</option>
          <option value="ë°”ê¹¥í˜•">ì•½ì† ì¡ëŠ” ê±¸ ì¢‹ì•„í•´ìš”</option>
        </select>
        <div class="field-tooltip" data-field="weekendStyle">ì£¼ë§ ìŠ¤íƒ€ì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
      </div>

      <div class="divider" aria-hidden="true"></div>

      <div class="section-heading">ëª¨ì„ ê·œì¹™ & ì •ì±… ë™ì˜</div>
      <p class="notice">ëª¨ì„ì˜ ê±´ì „í•œ ìš´ì˜ê³¼ ì°¸ê°€ì ì•ˆì „ì„ ìœ„í•´ í•„ìˆ˜ë¡œ í™•ì¸í•´ì£¼ì„¸ìš”.</p>

      <div class="field" style="grid-column:1/-1">
        <label class="label">ëª¨ì„ ê·œì¹™ ë™ì˜<span class="required-mark">*</span></label>
        <div class="policy-card">
          <ul>
            <li>ë²ˆí˜¸ ì§ì ‘ ìš”êµ¬ ê¸ˆì§€</li>
            <li>ìƒëŒ€ë°©ì—ê²Œ ë¶ˆì¾Œ/ë¶€ë‹´ì„ ì¤„ ìˆ˜ ìˆëŠ” ì–¸í–‰ ì‹œ í‡´ì¥ ê°€ëŠ¥</li>
            <li>ì‚¬í›„ ë§¤ì¹­ì€ â€˜ì„œë¡œ í˜¸ê° ìˆì„ ë•Œë§Œâ€™ ì „ë‹¬</li>
          </ul>
        </div>
        <div class="agree">
          <div class="checkbox-row">
            <input type="checkbox" id="rulesAgree" class="consent-check" required />
            <label for="rulesAgree">ë™ì˜í•©ë‹ˆë‹¤</label>
          </div>
          <div class="field-tooltip" data-field="rulesAgree">ëª¨ì„ ê·œì¹™ì— ë™ì˜í•´ì£¼ì„¸ìš”.</div>
        </div>
      </div>

      <div class="field" style="grid-column:1/-1">
        <label class="label">ê°œì¸ì •ë³´ ìˆ˜ì§‘Â·ì´ìš© ë™ì˜<span class="required-mark">*</span></label>
        <div class="policy-card">
          <p><strong>ìˆ˜ì§‘ í•­ëª©</strong>: ì´ë¦„, ì—°ë½ì²˜, ê¸°ë³¸ í”„ë¡œí•„</p>
          <p><strong>ì´ìš© ëª©ì </strong>: ëª¨ì„ ìš´ì˜Â·ì‚¬í›„ ë§¤ì¹­ ì•ˆë‚´ ìš©ë„ë¡œë§Œ ì‚¬ìš©</p>
          <p><strong>ë³´ìœ Â·íŒŒê¸°</strong>: ì¼ì • ê¸°ê°„ í›„ ì•ˆì „í•˜ê²Œ íŒŒê¸°</p>
        </div>
        <div class="agree">
          <div class="checkbox-row">
            <input type="checkbox" id="agree" class="consent-check" required />
            <label for="agree">ë™ì˜í•©ë‹ˆë‹¤</label>
          </div>
          <div class="field-tooltip" data-field="agree">ê°œì¸ì •ë³´ ì´ìš©ì— ë™ì˜í•´ì£¼ì„¸ìš”.</div>
        </div>
      </div>

      <div class="field" style="grid-column:1/-1">
        <label class="label">ë…¸ì‡¼/í™˜ë¶ˆ ì •ì±… ë™ì˜<span class="required-mark">*</span></label>
        <div class="policy-card">
          <p>ì „ë‚  ì·¨ì†Œ ì‹œ ì „ì•¡ í™˜ë¶ˆ, ì´í›„ í™˜ë¶ˆ ë¶ˆê°€</p>
          <p>ë…¸ì‡¼ ì‹œ í–¥í›„ ì°¸ê°€ ì œí•œ ê°€ëŠ¥</p>
        </div>
        <div class="agree">
          <div class="checkbox-row">
            <input type="checkbox" id="refundAgree" class="consent-check" required />
            <label for="refundAgree">ë™ì˜í•©ë‹ˆë‹¤</label>
          </div>
          <div class="field-tooltip" data-field="refundAgree">ë…¸ì‡¼/í™˜ë¶ˆ ì •ì±…ì— ë™ì˜í•´ì£¼ì„¸ìš”.</div>
        </div>
      </div>

      <div class="field" style="grid-column:1/-1">
        <label class="label">ì°¸ê°€ë¹„ 3ë§Œì›, ë‚©ë¶€ ì™„ë£Œí•˜ì…¨ë‚˜ìš”? ğŸ’¸</label>
        <div class="hint">ì¥ì†Œ ëŒ€ê´€ë¹„ ë° ì»¤í”¼ ë¹„ìš©ì„ í¬í•¨í•˜ì—¬ ì°¸ê°€ë¹„ 3ë§Œì›ì„ ë°›ê³  ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ê³„ì¢Œë¡œ ì…ê¸ˆí•´ì£¼ì„¸ìš”.</div>
        <div class="account-box">
          ê¸°ì—…ì€í–‰ 20314422501012 (ê³µì •ì•„)
          <span>ì…ê¸ˆìëª…ê³¼ ì‹ ì²­ìëª…ì„ ë™ì¼í•˜ê²Œ í•´ì£¼ì„¸ìš”.</span>
        </div>
      </div>

      <div class="divider" aria-hidden="true"></div>

      <div style="grid-column:1/-1;display:flex;justify-content:center">
        <button id="submitBtn" class="btn" type="submit" disabled>ëª¨ì„ ì‹ ì²­í•˜ê¸°</button>
      </div>
    </div>
  </form>
</div>

<script>
(function(){
  // ìŠ¤í¬ë¡¤ ì§„ì… ì‹œ ìš”ì†Œ ì• ë‹ˆë©”ì´ì…˜
  const revealTargets = Array.from(document.querySelectorAll('.consult-form, .consult-form .grid > *, .consult-form .divider, .consult-form .btn'));
  if (revealTargets.length) {
    if ('IntersectionObserver' in window) {
      const revealObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.2,
        rootMargin: '0px 0px -10% 0px'
      });

      revealTargets.forEach((el) => {
        el.classList.add('reveal-on-scroll');
        el.style.setProperty('--reveal-delay', '0ms');
        revealObserver.observe(el);
      });
    } else {
      revealTargets.forEach(el => {
        el.classList.add('reveal-on-scroll', 'is-visible');
      });
    }
  }

  // ì—˜ë¦¬ë¨¼íŠ¸ ì°¸ì¡°
  const form = document.getElementById('contactForm');
  if(!form) return;

  const phoneEl   = form.querySelector('#phone');
  const submitBtn = form.querySelector('#submitBtn');
  const birthEl   = form.querySelector('#birth');
  const heightEl  = form.querySelector('#height');
  const consentChecks = Array.from(form.querySelectorAll('.consent-check'));

  // ì¶œìƒë…„ë„ ì…ë ¥ ì•ˆë‚´ (ìˆ«ìë§Œ í—ˆìš©)
  if (birthEl) {
    birthEl.addEventListener('input', () => {
      birthEl.value = birthEl.value.replace(/[^0-9]/g, '').slice(0, 4);
    });
  }

  // ì‹ ì¥ ì…ë ¥: ìˆ«ìë§Œ í—ˆìš©í•˜ê³  í•­ìƒ cm ì ‘ë¯¸ì‚¬ë¥¼ ìœ ì§€
  if (heightEl) {
    const formatHeight = () => {
      const digits = heightEl.value.replace(/[^0-9]/g, '').slice(0, 3);
      if (!digits) {
        heightEl.value = '';
        return;
      }
      const formatted = `${digits}cm`;
      heightEl.value = formatted;
      if (document.activeElement === heightEl) {
        const caretPos = digits.length;
        requestAnimationFrame(() => {
          heightEl.setSelectionRange(caretPos, caretPos);
        });
      }
    };

    heightEl.addEventListener('focus', () => {
      const digits = heightEl.value.replace(/[^0-9]/g, '').slice(0, 3);
      heightEl.value = digits;
      requestAnimationFrame(() => {
        const pos = heightEl.value.length;
        heightEl.setSelectionRange(pos, pos);
      });
    });

    heightEl.addEventListener('input', formatHeight);
    heightEl.addEventListener('blur', formatHeight);
  }

  // ì—°ë½ì²˜ ìë™ í•˜ì´í”ˆ(ìˆ«ìë§Œ ì…ë ¥ í—ˆìš©)
  if (phoneEl) {
    phoneEl.addEventListener('input', ()=>{
      let v = phoneEl.value.replace(/[^0-9]/g, '');
      if (v.length < 4) { phoneEl.value = v; return; }
      if (v.length < 8) { phoneEl.value = v.replace(/(\d{3})(\d+)/, '$1-$2'); return; }
      phoneEl.value = v.replace(/(\d{3})(\d{3,4})(\d{0,4}).*/, '$1-$2-$3');
    });
  }

  // ë“œë¡­ë‹¤ìš´ ì™¸ê³½ì„  ìƒ‰ìƒ ê°•ì œ ì ìš©
  const selects = form.querySelectorAll('.select');
  selects.forEach(select => {
    select.addEventListener('mousedown', function() {
      this.style.borderColor = '#5377f6';
      this.style.borderWidth = '1px';
    });
    select.addEventListener('focus', function() {
      this.style.borderColor = '#5377f6';
      this.style.borderWidth = '1px';
    });
    select.addEventListener('blur', function() {
      this.style.borderColor = 'var(--line)';
    });
  });

  // ë§í’ì„  í‘œì‹œ/ìˆ¨ê¹€ í•¨ìˆ˜
  const showTooltip = (fieldName, message) => {
    const tooltip = form.querySelector(`[data-field="${fieldName}"]`);
    if (tooltip) {
      tooltip.textContent = message || tooltip.textContent;
      tooltip.classList.add('show');
    }
  };
  
  const hideTooltip = (fieldName) => {
    const tooltip = form.querySelector(`[data-field="${fieldName}"]`);
    if (tooltip) {
      tooltip.classList.remove('show');
    }
  };
  
  // ëª¨ë“  í•„ë“œì— ëŒ€í•œ ì…ë ¥/ë³€ê²½ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
  const setupFieldValidation = () => {
    const requiredFields = form.querySelectorAll('[required]');
    requiredFields.forEach(field => {
      const fieldName = field.id || field.name;
      
      // ì…ë ¥/ì„ íƒ ì‹œ ë§í’ì„  ìˆ¨ê¹€
      const hideHandler = () => {
        if (field.type === 'checkbox') {
          if (field.checked) hideTooltip(fieldName);
        } else if (field.tagName === 'SELECT') {
          if (field.value && field.value !== '') hideTooltip(fieldName);
        } else {
          if (field.value && field.value.trim() !== '') hideTooltip(fieldName);
        }
      };
      
      if (field.tagName === 'SELECT' || field.type === 'checkbox') {
        field.addEventListener('change', hideHandler);
      } else {
        field.addEventListener('input', hideHandler);
        field.addEventListener('change', hideHandler);
        field.addEventListener('focus', hideHandler);
      }
    });
  };

  // ì œì¶œ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„± ì´ˆê¸° ë™ê¸°í™” + ë³€ê²½ ì‹œ ë™ê¸°í™”
  const syncSubmitState = ()=>{
    if(!submitBtn) return;
    if(!consentChecks.length){
      submitBtn.disabled = false;
      return;
    }
    const unchecked = consentChecks.some(check => check.required && !check.checked);
    submitBtn.disabled = unchecked;
  };
  syncSubmitState();
  consentChecks.forEach(check => check.addEventListener('change', syncSubmitState));

  // í•„ë“œ ê²€ì¦ ì„¤ì •
  setupFieldValidation();

  // ì œì¶œ ë¡œì§: JSON POST
  form.addEventListener('submit', async (e)=>{
    e.preventDefault();
    
    // ëª¨ë“  ë§í’ì„  ìˆ¨ê¹€
    form.querySelectorAll('.field-tooltip').forEach(tooltip => {
      tooltip.classList.remove('show');
    });
    
    // í•„ìˆ˜ í•„ë“œ ê²€ì¦
    let isValid = true;
    const requiredFields = form.querySelectorAll('[required]');
    
    requiredFields.forEach(field => {
      const fieldName = field.id || field.name;
      let fieldValid = false;
      
      if (field.type === 'checkbox') {
        fieldValid = field.checked;
      } else if (field.tagName === 'SELECT') {
        fieldValid = field.value && field.value !== '';
      } else {
        fieldValid = field.value && field.value.trim() !== '';
      }
      
      if (!fieldValid) {
        isValid = false;
        showTooltip(fieldName);
      }
    });
    
    // ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ ì¤‘ë‹¨
    if (!isValid) {
      // ì²« ë²ˆì§¸ ìœ íš¨í•˜ì§€ ì•Šì€ í•„ë“œë¡œ ìŠ¤í¬ë¡¤
      const firstInvalid = form.querySelector('[required]:invalid, [required]:not(:checked)');
      if (firstInvalid) {
        const selectInvalid = Array.from(requiredFields).find(f => {
          if (f.type === 'checkbox') return !f.checked;
          if (f.tagName === 'SELECT') return !f.value || f.value === '';
          return !f.value || f.value.trim() === '';
        });
        if (selectInvalid) {
          selectInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
      }
      return;
    }

    if (heightEl) {
      const digits = heightEl.value.replace(/[^0-9]/g, '').slice(0, 3);
      heightEl.value = digits ? `${digits}cm` : '';
    }

    const data = {
      formType: 'moim',
      name:  (form.querySelector('#name')   ?.value || '').trim(),
      gender:(form.querySelector('#gender') ?.value || ''),
      phone: (form.querySelector('#phone')  ?.value || ''),
      birth: (form.querySelector('#birth')  ?.value || ''),
      education:(form.querySelector('#edu') ?.value || ''),
      job:   (form.querySelector('#job')    ?.value || '').trim(),
      height:(form.querySelector('#height') ?.value || ''),
      district:(form.querySelector('#district') ?.value || '').trim(),
      workStyle:(form.querySelector('#workStyle') ?.value || ''),
      relationshipStatus:(form.querySelector('#relationship') ?.value || ''),
      participationGoal:(form.querySelector('#purpose') ?.value || ''),
      socialEnergy:(form.querySelector('#socialEnergy') ?.value || ''),
      weekendPreference:(form.querySelector('#weekendStyle') ?.value || ''),
      agree: (form.querySelector('#agree')  ?.checked || false),
      rulesAgree:(form.querySelector('#rulesAgree')  ?.checked || false),
      refundAgree:(form.querySelector('#refundAgree')  ?.checked || false)
    };

    if (submitBtn){ submitBtn.disabled = true; submitBtn.textContent = 'ì „ì†¡ ì¤‘â€¦'; }

    try{
      const backendOrigin = ((window.BACKEND_ORIGIN || '').trim() || 'https://ygsa-backend.onrender.com').replace(/\/$/, '');
      const fallbackEndpoint = backendOrigin ? `${backendOrigin}/api/consult` : '/api/consult';
      const endpoint = form.getAttribute('action') || fallbackEndpoint;
      const res = await fetch(endpoint, {
        method:'POST',
        headers:{'Content-Type':'application/json','Accept':'application/json'},
        body: JSON.stringify(data)
      });

      if(res.ok){
        form.reset();
        syncSubmitState();
        alert('ì‹ ì²­ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ë§¤ì¹­ ë§¤ë‹ˆì €ê°€ ê³§ ì—°ë½ë“œë¦½ë‹ˆë‹¤.');
      }else{
        throw new Error('HTTP '+res.status);
      }
    }catch(err){
      console.error(err);
      alert('ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.');
    }finally{
      if (submitBtn){ submitBtn.textContent = 'ëª¨ì„ ì‹ ì²­í•˜ê¸°'; syncSubmitState(); }
    }
  });
})();
</script>
